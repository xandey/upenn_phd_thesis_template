\usepackage[table]{xcolor}
\usepackage[square,sort&compress]{natbib}
\usepackage{graphicx}
\usepackage{times}
\usepackage{amsmath,amsthm,amssymb,latexsym}
\usepackage{multirow}
\usepackage[boxed,chapter]{algorithm}
\usepackage{algorithmic}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{cancel}
\usepackage{doi}
\usepackage{placeins}
\usepackage{epstopdf}
\usepackage{import}
\usepackage{comment}
\usepackage{hyperref}
\usepackage{ifdraft}
\usepackage{etoolbox}

\graphicspath{{./figures/}{./egi}{.}}

\definecolor{ccolor}{rgb}{0.0,0.4,0.0}
\definecolor{lcolor}{rgb}{0.2,0.2,0.4}
\definecolor{ucolor}{rgb}{0.0,0.0,0.9}

\hypersetup{
  linkcolor=lcolor,
  citecolor=ccolor,
  urlcolor=ucolor,
  colorlinks=true,
}

\usepackage[obeyFinal,colorinlistoftodos,textsize=footnotesize]{todonotes}

\setcounter{tocdepth}{3}

% for after todo to make the todolist on separate sheets of paper
\usepackage{ifoddpage}

%%%%%%%%%%%%%%%% use subfiles to print lower level files, but need to print bibliography if they are compiled individually
\usepackage{subfiles}


%\Makeatletter
\makeatletter
\renewcommand{\todo}[2][]{%
    \@todo[caption={#2}, #1]{\begin{spacing}{0.5}#2\end{spacing}}%
} 
%\makeatother 
%\makeatletter
\newcommand*{\cleartoleftpage}{%
  \clearpage
  \checkoddpage
  \ifoddpage
  \else
    \hbox{}\newpage
  \fi
}
%\makeatother
%\makeatletter

\newcommand{\mylistoftodos}{
\todototoc
\phantomsection
\listoftodos
}


\newrobustcmd*{\notodolist}{%
%\DeclareRobustCommand{\notodolist}{%
}

\def\blx@nobibliography[#1]{}

\appto{\skip@preamble}{\let\printbibliography\nobibliography}
\appto{\skip@preamble}{\let\mylistoftodos\notodolist}

\makeatother
